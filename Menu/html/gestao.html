<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FlowUp • Gestão de Projetos</title>
  <link rel="stylesheet" href="/Menu/css/menu.css">
  <link rel="stylesheet" href="/Menu/css/gestao.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="app">
    <!-- Menu -->
    <aside class="sidebar">
      <div class="brand">
        <span>FlowUp</span>
      </div>

      <nav class="nav">
          
          <a href="/Menu/html/mapa.html" >
          <div class="ico i-analytics"></div><span>Mapa Geral</span>
        </a>
        <a href="/Menu/html/planejamento.html">
          <div class="ico i-planning"></div><span>Planejamento Mensal</span>
        </a>
        <a href="/Menu/html/agendamento.html">
          <div class="ico i-post"></div><span>Agendamento de Postagem</span>
        </a>
        <a href="/Menu/html/calendario.html">
          <div class="ico i-calendar"></div><span>Calendário de Postagem</span>
        </a>
        <a href="/Menu/html/gestao.html" class="active">
          <div class="ico i-manage"></div><span>Gestão de Projetos</span>
        </a>
        <a href="/Menu/html/briefing.html">
          <div class="ico i-briefing"></div><span>Briefing</span>
        </a>
        <a href="/Menu/html/equipe.html">
          <div class="ico i-team"></div><span>Equipe</span>
        </a>
      </nav>
    </aside>

    <!-- Topbar -->
    <header class="topbar">
      <div class="company">
        <div class="avatar" title="Logo da Empresa"></div>
        <div class="custom-select">
          <div class="select-selected">
            <span>Empresa A</span>
            <div class="select-arrow"></div>
          </div>
          <div class="select-items">
            <div class="select-option" data-value="Empresa A">
              <div class="option-avatar"></div>
              <span>Empresa A</span>
            </div>
            <div class="select-option" data-value="Empresa B">
              <div class="option-avatar"></div>
              <span>Empresa B</span>
            </div>
            <div class="select-divider"></div>
            <div class="select-option select-new-company" data-value="new">
              <div class="option-avatar new-company-icon"></div>
              <span>Cadastrar empresa nova</span>
            </div>
          </div>
        </div>
      </div>

      <!-- ao meio: página atual -->
      <div class="page-title">
        <h1>Gestão de Planejamento</h1>
      </div>

      <!-- Menu do usuário -->
      <div class="user" id="user-menu-trigger">
        <div>
          <div class="name">Alone Souza</div>
          <div class="role">Profissional</div>
        </div>
        <div class="avatar" title="Seu perfil"></div>
        
        <div class="user-menu" id="user-menu">
          <div class="user-menu-header">
            <div class="user-menu-avatar"></div>
            <div class="user-menu-info">
              <div class="user-menu-name">Alone Souza</div>
              <div class="user-menu-email">alone.souza@flowup.com</div>
            </div>
          </div>
          <div class="user-menu-divider"></div>
          <a href="#" class="user-menu-item">
            <div class="user-menu-icon i-profile"></div>
            <span>Meu Perfil</span>
          </a>
          <a href="#" class="user-menu-item">
            <div class="user-menu-icon i-messages"></div>
            <span>Mensagens</span>
            <span class="user-menu-badge">3</span>
          </a>
          <a href="#" class="user-menu-item">
            <div class="user-menu-icon i-settings"></div>
            <span>Configurações</span>
          </a>
          <div class="user-menu-divider"></div>
          <a href="#" class="user-menu-item">
            <div class="user-menu-icon i-logout"></div>
            <span>Sair</span>
          </a>
        </div>
      </div>
    </header>

    <!-- Conteúdo Principal -->
    <main class="main gestao-main">
      <div class="gestao-container">
        <!-- Cabeçalho -->
        

        <!-- Barra de Filtros Atualizada -->
<div class="filters-bar">
  <!-- Linha 1: Botões e toggle -->
  <div class="filters-top-row">
    <button class="btn-secondary" id="injetarMockBtn">
      <span class="btn-icon"></span> Injetar do Planejamento 
    </button>

    <div class="view-toggle">
      <button class="toggle-btn active" data-view="kanban"><span>Kanban</span></button>
      <button class="toggle-btn" data-view="lista"><span>Lista</span></button>
    </div>

    <div class="filters-wrapper">
      <button class="btn-filters" id="btnFilters">
        <div class="filter-icon"></div>
        <span>Filtros</span>
        <div class="filter-badge" id="filterBadge">0</div>
      </button>

      <div class="filters-dropdown" id="filtersDropdown">
        <div class="filters-dropdown-header">
          <div class="filters-dropdown-title">Filtrar por</div>
          <button class="filters-dropdown-close" id="closeFilters">&times;</button>
        </div>

        <div class="filter-group-dropdown">
          <!-- Responsável -->
          <div class="filter-item">
            <label class="filter-label">RESPONSÁVEL</label>
            <div class="custom-select filter-custom-select">
              <div class="select-selected" data-filter="responsavel">
                <span>Todos os Responsáveis</span>
                <div class="select-arrow"></div>
              </div>
              <div class="select-items">
                <div class="select-option" data-value="all">Todos os Responsáveis</div>
                <div class="select-option" data-value="alone">Alone Souza</div>
                <div class="select-option" data-value="maria">Maria Silva</div>
                <div class="select-option" data-value="joao">João Santos</div>
                <div class="select-option" data-value="ana">Ana Costa</div>
                <div class="select-option" data-value="carlos">Carlos Oliveira</div>
              </div>
              <select class="select-native-hidden" id="responsavelFilter">
                <option value="all">Todos os Responsáveis</option>
                <option value="alone">Alone Souza</option>
                <option value="maria">Maria Silva</option>
                <option value="joao">João Santos</option>
                <option value="ana">Ana Costa</div>
                <option value="carlos">Carlos Oliveira</option>
              </select>
            </div>
          </div>

          <!-- Tipo de Conteúdo -->
          <div class="filter-item">
            <label class="filter-label">TIPO DE CONTEÚDO</label>
            <div class="custom-select filter-custom-select">
              <div class="select-selected" data-filter="tipo">
                <span>Todos os Tipos</span>
                <div class="select-arrow"></div>
              </div>
              <div class="select-items">
                <div class="select-option" data-value="all">Todos os Tipos</div>
                <div class="select-option" data-value="reels">Reels</div>
                <div class="select-option" data-value="video">Vídeo</div>
                <div class="select-option" data-value="carrossel">Carrossel</div>
                <div class="select-option" data-value="storys">Storys</div>
                <div class="select-option" data-value="foto">Foto</div>
              </div>
              <select class="select-native-hidden" id="tipoFilter">
                <option value="all">Todos os Tipos</option>
                <option value="reels">Reels</option>
                <option value="video">Vídeo</option>
                <option value="carrossel">Carrossel</option>
                <option value="storys">Storys</option>
                <option value="foto">Foto</option>
              </select>
            </div>
          </div>

          <!-- Prioridade -->
          <div class="filter-item">
            <label class="filter-label">PRIORIDADE</label>
            <div class="custom-select filter-custom-select">
              <div class="select-selected" data-filter="prioridade">
                <span>Todas as Prioridades</span>
                <div class="select-arrow"></div>
              </div>
              <div class="select-items">
                <div class="select-option" data-value="all">Todas as Prioridades</div>
                <div class="select-option" data-value="alta">Alta</div>
                <div class="select-option" data-value="media">Média</div>
                <div class="select-option" data-value="baixa">Baixa</div>
              </div>
              <select class="select-native-hidden" id="prioridadeFilter">
                <option value="all">Todas as Prioridades</option>
                <option value="alta">Alta</option>
                <option value="media">Média</option>
                <option value="baixa">Baixa</option>
              </select>
            </div>
          </div>

          <!-- Mês -->
          <div class="filter-item">
            <label class="filter-label">MÊS</label>
            <div class="custom-select filter-custom-select">
              <div class="select-selected" data-filter="mes">
                <span>Todos os Meses</span>
                <div class="select-arrow"></div>
              </div>
              <div class="select-items">
                <div class="select-option" data-value="all">Todos os Meses</div>
                <div class="select-option" data-value="1">Janeiro</div>
                <div class="select-option" data-value="2">Fevereiro</div>
                <div class="select-option" data-value="3">Março</div>
                <div class="select-option" data-value="4">Abril</div>
                <div class="select-option" data-value="5">Maio</div>
                <div class="select-option" data-value="6">Junho</div>
                <div class="select-option" data-value="7">Julho</div>
                <div class="select-option" data-value="8">Agosto</div>
                <div class="select-option" data-value="9">Setembro</div>
                <div class="select-option" data-value="10">Outubro</div>
                <div class="select-option" data-value="11">Novembro</div>
                <div class="select-option" data-value="12">Dezembro</div>
              </div>
              <select class="select-native-hidden" id="mesFilter">
                <option value="all">Todos os Meses</option>
                <option value="1">Janeiro</option>
                <option value="2">Fevereiro</option>
                <option value="3">Março</option>
                <option value="4">Abril</option>
                <option value="5">Maio</option>
                <option value="6">Junho</option>
                <option value="7">Julho</option>
                <option value="8">Agosto</option>
                <option value="9">Setembro</option>
                <option value="10">Outubro</option>
                <option value="11">Novembro</option>
                <option value="12">Dezembro</option>
              </select>
            </div>
          </div>

          <div class="filter-divider"></div>

          <button class="btn-clear-filters" id="clearFiltersBtn">
            <div class="clear-icon"></div>
            Limpar todos os filtros
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Linha 2: Busca -->
  <div class="search-row">
    <div class="search-box">
      <input type="text" id="searchProjeto" placeholder="Buscar por título...">
      <div class="search-icon"></div>
    </div>
  </div>
</div>

        <!-- Conteúdo -->
        <!-- Conteúdo -->
<div class="gestao-content">
  <!-- Visualização Kanban -->
  <div class="kanban-view active" id="kanbanView">
    <div class="kanban-columns">

      <div class="kanban-column" data-status="redacao">
        <div class="column-header">
          <div class="column-title">
            <div class="column-icon"></div>
            <div class="column-text">
              <h3>Redação</h3>
              <span class="column-subtitle">Textos, roteiros e legendas</span>
            </div>
          </div>
          <span class="column-count">0</span>
        </div>
        <div class="column-content" data-status="redacao"></div>
      </div>

      <div class="kanban-column" data-status="gravacao">
        <div class="column-header">
          <div class="column-title">
            <div class="column-icon"></div>
            <div class="column-text">
              <h3>Gravação</h3>
              <span class="column-subtitle">Captação de vídeos e áudios</span>
            </div>
          </div>
          <span class="column-count">0</span>
        </div>
        <div class="column-content" data-status="gravacao"></div>
      </div>

      <div class="kanban-column" data-status="edicao_video">
        <div class="column-header">
          <div class="column-title">
            <div class="column-icon"></div>
            <div class="column-text">
              <h3>Edição de Vídeo</h3>
              <span class="column-subtitle">Montagem, cortes e finalização</span>
            </div>
          </div>
          <span class="column-count">0</span>
        </div>
        <div class="column-content" data-status="edicao_video"></div>
      </div>

      <div class="kanban-column" data-status="design">
        <div class="column-header">
          <div class="column-title">
            <div class="column-icon"></div>
            <div class="column-text">
              <h3>Design</h3>
              <span class="column-subtitle">Artes, layouts e ajustes visuais</span>
            </div>
          </div>
          <span class="column-count">0</span>
        </div>
        <div class="column-content" data-status="design"></div>
      </div>

      <div class="kanban-column" data-status="revisao">
        <div class="column-header">
          <div class="column-title">
            <div class="column-icon"></div>
            <div class="column-text">
              <h3>Revisão</h3>
              <span class="column-subtitle">Ortografia, ajustes e aprovação interna</span>
            </div>
          </div>
          <span class="column-count">0</span>
        </div>
        <div class="column-content" data-status="revisao"></div>
      </div>

      <div class="kanban-column" data-status="fotografia">
        <div class="column-header">
          <div class="column-title">
            <div class="column-icon"></div>
            <div class="column-text">
              <h3>Fotografia</h3>
              <span class="column-subtitle">Sessões de fotos e registros</span>
            </div>
          </div>
          <span class="column-count">0</span>
        </div>
        <div class="column-content" data-status="fotografia"></div>
      </div>

      <div class="kanban-column" data-status="aprovacao">
        <div class="column-header">
          <div class="column-title">
            <div class="column-icon"></div>
            <div class="column-text">
              <h3>Aprovação</h3>
              <span class="column-subtitle">Validação final com o cliente</span>
            </div>
          </div>
          <span class="column-count">0</span>
        </div>
        <div class="column-content" data-status="aprovacao"></div>
      </div>

      <div class="kanban-column" data-status="aguardando_aprovacao">
        <div class="column-header">
          <div class="column-title">
            <div class="column-icon"></div>
            <div class="column-text">
              <h3>Aguardando Aprovação</h3>
              <span class="column-subtitle">Aguardando retorno do cliente</span>
            </div>
          </div>
          <span class="column-count">0</span>
        </div>
        <div class="column-content" data-status="aguardando_aprovacao"></div>
      </div>

      <div class="kanban-column" data-status="pronto_postar">
        <div class="column-header">
          <div class="column-title">
            <div class="column-icon"></div>
            <div class="column-text">
              <h3>Pronto pra Postar</h3>
              <span class="column-subtitle">Conteúdos finalizados e aprovados</span>
            </div>
          </div>
          <span class="column-count">0</span>
        </div>
        <div class="column-content" data-status="pronto_postar"></div>
      </div>

    </div>
  </div>
</div>


          <!-- Visualização Lista -->
          <div class="lista-view" id="listaView">
            <div class="lista-header">
              <div class="lista-col titulo">Título</div>
              <div class="lista-col status">Status</div>
              <div class="lista-col prioridade">Prioridade</div>
              <div class="lista-col responsavel">Responsável</div>
              <div class="lista-col deadline">Data Limite</div>
              <div class="lista-col mes">Mês</div>
              <div class="lista-col acoes">Ações</div>
            </div>
            <div class="lista-content" id="listaContent"></div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Modal de Detalhes do Projeto -->
  <div class="modal" id="projetoModal">
    <div class="modal-content large-modal">
      <div class="modal-header">
        <h3 id="modalProjetoTitulo">Detalhes do Projeto</h3>
        <button class="modal-close" id="modalProjetoClose">&times;</button>
      </div>
      <div class="modal-body">
        <div class="projeto-detail">
          <!-- Barra de Progresso -->
          <div class="progress-section">
            <h4>Progresso</h4>
            <div class="progress-bar">
              <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-steps" id="progressSteps"></div>
          </div>

          <!-- Informações Principais -->
          <div class="info-grid">
            <div class="info-group">
              <label>Título</label>
              <p id="detailTitulo">-</p>
            </div>
            <div class="info-group">
              <label>Tipo de Conteúdo</label>
              <p id="detailTipo">-</p>
            </div>
            <div class="info-group">
              <label>Status Atual</label>
              <div id="detailStatus">-</div>
            </div>
            <div class="info-group">
              <label>Prioridade</label>
              <div id="detailPrioridade">-</div>
            </div>
            <div class="info-group">
              <label>Responsável</label>
              <div id="detailResponsavel">-</div>
            </div>
            <div class="info-group">
              <label>Data Limite</label>
              <div id="detailDeadline">-</div>
            </div>
            <div class="info-group">
              <label>Mês do Planejamento</label>
              <p id="detailMes">-</p>
            </div>
            <div class="info-group">
              <label>Destino da Tarefa</label>
              <p id="detailDestino">-</p>
            </div>
          </div>

          <!-- Ações -->
          <div class="actions-section">
            <h4>Ações</h4>
            <div class="action-buttons">
              <button class="btn-success" id="marcarConcluidoBtn">
                <span class="btn-icon"></span> Marcar Concluído
              </button>
              <button class="btn-secondary" id="atualizarStatusBtn">
                <span class="btn-icon"></span> Atualizar Status
              </button>
              <button class="btn-secondary" id="trocarResponsavelBtn">
                <span class="btn-icon"></span> Trocar Responsável
              </button>
              <button class="btn-secondary" id="definirDeadlineBtn">
                <span class="btn-icon"></span> Definir Data Limite
              </button>
            </div>
          </div>

          <!-- Conteúdo -->
          <div class="content-section">
            <div class="form-group">
              <label>Descrição da Publicação</label>
              <textarea id="detailDescricao" rows="3" readonly></textarea>
            </div>
            
            <div class="form-group">
              <label>Texto da Legenda</label>
              <textarea id="detailLegenda" rows="3"></textarea>
            </div>
            
            <div class="form-group">
              <label>Inspirações</label>
              <textarea id="detailInspiracao" rows="2"></textarea>
            </div>
            
            <div class="form-actions">
              <button class="btn-secondary" id="cancelEditBtn">Cancelar</button>
              <button class="btn-primary" id="saveContentBtn">Salvar Alterações</button>
            </div>
          </div>

          <!-- Mídia -->
          <div class="media-section">
            <h4>Arquivos de Mídia</h4>

            <div class="media-uploads">
              <!-- Dropzone Imagens -->
              <label class="dropzone" for="uploadImagens">
                <div class="dz-icon"></div>
                <div class="dz-text">
                  <strong>Adicionar imagens</strong>
                  <span>PNG, JPG, JPEG • múltiplos</span>
                </div>
                <input id="uploadImagens" type="file" accept="image/*" multiple hidden>
              </label>

              <!-- Dropzone Vídeos -->
              <label class="dropzone" for="uploadVideos">
                <div class="dz-icon"></div>
                <div class="dz-text">
                  <strong>Adicionar vídeos</strong>
                  <span>MP4, MOV • múltiplos</span>
                </div>
                <input id="uploadVideos" type="file" accept="video/*" multiple hidden>
              </label>
            </div>

            <!-- Grids de preview -->
            <div class="media-grids">
              <div class="media-group">
                <div class="media-title">Imagens</div>
                <div class="media-grid" id="imagensPreview"></div>
              </div>
              <div class="media-group">
                <div class="media-title">Vídeos</div>
                <div class="media-grid" id="videosPreview"></div>
              </div>
            </div>
          </div>

          <!-- Histórico -->
          <div class="history-section">
            <h4>Histórico de Status</h4>
            <div class="history-timeline" id="historyTimeline"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de Atualização de Status -->
  <div class="modal" id="statusModal">
    <div class="modal-content medium-modal">
      <div class="modal-header">
        <h3>Atualizar Status</h3>
        <button class="modal-close" id="statusModalClose">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="novoStatus">Novo Status</label>
          <select id="novoStatus">
            <option value="redacao">Redação</option>
            <option value="gravacao">Gravação</option>
            <option value="edicao_video">Edição de Vídeo</option>
            <option value="design">Design</option>
            <option value="revisao">Revisão</option>
            <option value="fotografia">Fotografia</option>
            <option value="aprovacao">Aprovação</option>
            <option value="aguardando_aprovacao">Aguardando Aprovação</option>
            <option value="pronto_postar">Pronto pra Postar</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn-secondary" id="cancelStatusBtn">Cancelar</button>
        <button type="button" class="btn-primary" id="saveStatusBtn">Salvar Status</button>
      </div>
    </div>
  </div>

  <!-- Modal de Troca de Responsável -->
  <div class="modal" id="responsavelModal">
    <div class="modal-content medium-modal">
      <div class="modal-header">
        <h3>Trocar Responsável</h3>
        <button class="modal-close" id="responsavelModalClose">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="novoResponsavel">Novo Responsável</label>
          <select id="novoResponsavel">
            <option value="alone">Alone Souza</option>
            <option value="maria">Maria Silva</option>
            <option value="joao">João Santos</option>
            <option value="ana">Ana Costa</option>
            <option value="carlos">Carlos Oliveira</option>
          </select>
        </div>
        <div class="form-group">
          <label for="novaFuncao">Função</label>
          <select id="novaFuncao">
            <option value="editor">Editor</option>
            <option value="designer">Designer</option>
            <option value="redator">Redator</option>
            <option value="fotografo">Fotógrafo</option>
            <option value="revisor">Revisor</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn-secondary" id="cancelResponsavelBtn">Cancelar</button>
        <button type="button" class="btn-primary" id="saveResponsavelBtn">Salvar</button>
      </div>
    </div>
  </div>

  <!-- Modal de Data Limite -->
  <div class="modal" id="deadlineModal">
    <div class="modal-content small-modal">
      <div class="modal-header">
        <h3>Definir Data Limite</h3>
        <button class="modal-close" id="deadlineModalClose">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="novaDeadline">Data Limite</label>
          <input type="date" id="novaDeadline">
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn-secondary" id="cancelDeadlineBtn">Cancelar</button>
        <button type="button" class="btn-primary" id="saveDeadlineBtn">Salvar</button>
      </div>
    </div>
  </div>

  <script src="/Menu/javascript/menu.js"></script>
  <script type="module" src="/Menu/javascript/gestao.js"></script>
</body>
</html>